# VARS
$background = 2E3440
$foreground = E5E9F0
$focus = EEF0F5

# outputs
monitor=HDMI-A-1,preferred,2560x0,1
monitor=HDMI-A-2,preferred,0x540,1

# workspace=DP-1,1

input {
    kb_layout=us
    kb_variant=colemak

    follow_mouse=1
    repeat_rate=50
    repeat_delay=300
    natural_scroll=yes

    touchpad {
        natural_scroll=yes
    }

    sensitivity=0 # -1.0 - 1.0, 0 means no modification.
}

general {
    main_mod=SUPER

    gaps_in=5
    gaps_out=10
    border_size=2
    col.active_border=0xFF$focus
    col.inactive_border=0xFF$background

    apply_sens_to_raw=0 # whether to apply the sensitivity to raw input (e.g. used by games where you aim using your mouse)

    cursor_inactive_timeout=30
    damage_tracking=full # leave it on full unless you hate your GPU and want to make it suffer
    layout=master
}

decoration {
    rounding=5
    blur=1
    blur_size=15 # minimum 1
    blur_passes=2 # minimum 1
    blur_new_optimizations=1
}

animations {
    enabled=0
    animation=windows,1,7,default
    animation=border,1,10,default
    animation=fade,1,10,default
    animation=workspaces,1,6,default
}

dwindle {
    pseudotile=0 # enable pseudotiling on dwindle
}

master {
    no_gaps_when_only=yes
    new_is_master=no
}

gestures {
    workspace_swipe=no
}

misc { 
    disable_hyprland_logo=yes
}

blurls=gtk-layer-shell
blurls=notifications
blurls=menu

# startapps
exec-once=eww open bar
exec-once=hyprpaper
exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# binds
#
# basic
bind=SUPERSHIFT,Return,exec,foot
bind=SUPERSHIFT,Q,killactive,
bind=SUPERSHIFT,semicolon,exit,
bind=SUPER,semicolon,exec,hyprctl reload
bind=ALT,Space,togglefloating,
bind=SUPERSHIFT,Space,togglefloating,
bind=SUPER,S,exec,bmenu
bind=SUPERSHIFT,S,exec,bfiles
bind=SUPER,P,pseudo,
bind=SUPER,F,fullscreen,
# bind=SUPER,R,togglespecialworkspace # ???
bind=SUPER,X,exec,foot btm
bind=SUPER,B,exec,eww open --toggle bar

# basic movement
bind=SUPER,H,movefocus,l
bind=SUPER,I,movefocus,r
bind=SUPER,E,movefocus,u
bind=SUPER,N,movefocus,d

binde=ALT,h,splitratio,-0.05
binde=ALT,i,splitratio,+0.05

bind=SUPER,comma,focusmonitor,l
bind=SUPER,period,focusmonitor,r
bind=SUPERSHIFT,comma,movewindow,mon:1
bind=SUPERSHIFT,period,movewindow,mon:0
bind=SUPER,slash,swapactiveworkspaces,0 1

bind=SUPERSHIFT,H,movewindow,l
bind=SUPERSHIFT,I,movewindow,r
bind=SUPERSHIFT,E,movewindow,u
bind=SUPERSHIFT,N,movewindow,d

bind=SUPER,1,workspace,1
bind=SUPER,2,workspace,2
bind=SUPER,3,workspace,3
bind=SUPER,4,workspace,4
bind=SUPER,5,workspace,5
bind=SUPER,6,workspace,6
bind=SUPER,7,workspace,7
bind=SUPER,8,workspace,8
bind=SUPER,9,workspace,9
bind=SUPER,0,workspace,10

bind=SUPERSHIFT,1,movetoworkspacesilent,1
bind=SUPERSHIFT,2,movetoworkspacesilent,2
bind=SUPERSHIFT,3,movetoworkspacesilent,3
bind=SUPERSHIFT,4,movetoworkspacesilent,4
bind=SUPERSHIFT,5,movetoworkspacesilent,5
bind=SUPERSHIFT,6,movetoworkspacesilent,6
bind=SUPERSHIFT,7,movetoworkspacesilent,7
bind=SUPERSHIFT,8,movetoworkspacesilent,8
bind=SUPERSHIFT,9,movetoworkspacesilent,9
bind=SUPERSHIFT,0,movetoworkspacesilent,10

bind=SUPER,mouse_down,workspace,e+1
bind=SUPER,mouse_up,workspace,e-1

# master layout
bind=ALTSHIFT,M,exec,hyprctl keyword general:layout master; eww update layout="master"
bind=SUPER,return,layoutmsg,swapwithmaster
bind=ALT,N,layoutmsg,cyclenext
bind=ALT,E,layoutmsg,cycleprev
bind=ALTSHIFT,N,layoutmsg,swapnext
bind=ALTSHIFT,E,layoutmsg,swapprev

# dwindle
bind=ALT,T,exec,hyprctl keyword general:layout dwindle; eww update layout="dwindle"
bind=ALT,A,togglegroup,
bind=ALT,N,changegroupactive,b
bind=ALT,E,changegroupactive,f
bind=ALT,V,togglesplit,

# audio
bind=SUPER,A,exec,foot pulsemixer
bind=SUPERSHIFT,A,exec,foot alsamixer
binde=,XF86AudioRaiseVolume,exec,wpctl set-volume @DEFAULT_AUDIO_SINK@ 0.02+
binde=,XF86AudioLowerVolume,exec,wpctl set-volume @DEFAULT_AUDIO_SINK@ 0.02-
bind=,XF86AudioMute,exec,wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bind=SHIFT,XF86AudioMute,exec,wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bind=,XF86AudioPlay,exec,playerctl play-pause
bind=,XF86AudioPrev,exec,playerctl previous
bind=,XF86AudioNext,exec,playerctl next

# mpd
bind=SHIFT,XF86AudioPlay,exec,mpc toggle
bind=SHIFT,XF86AudioNext,exec,mpc next
bind=SHIFT,XF86AudioPrev,exec,mpc prev
bind=SHIFT,XF86AudioRaiseVolume,exec,mpc volume +2
bind=SHIFT,XF86AudioLowerVolume,exec,mpc volume -2

# screenshots
bind=,Print,exec,grim -g "$(slurp)" - | wl-copy
bind=SHIFT,Print,exec,grim -o $(hyprctl monitors -j | jq -r '.[] | select(.focused) | .name') - | wl-copy
bind=SUPER,Tap,exec,swappy.sh

# power
bind=SUPER,F12,exec,systemctl -i poweroff
bind=SUPER,F11,exec,systemctl -i reboot
bind=SUPER,F10,exec,swaylock -f
bind=SUPER,XF86ScreenSaver,exec,swaylock -f

# yt-dl
bind=,XF86HomePage,exec,yt-dlp -x "$(wl-paste)" -P ~/Music/yt-dlp
bind=SHIFT,XF86HomePage,exec,yt-dlp "$(wl-paste)" -P ~/Videos
